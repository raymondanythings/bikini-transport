openapi: 3.1.0
info:
  title: Bikini Transport API
  description: |
    ë¹„í‚¤ë‹ˆì‹œí‹° í•´ì € ë²„ìŠ¤ ì˜ˆì•½ ì‹œìŠ¤í…œ API

    ìŠ¤í°ì§€ë°¥ í…Œë§ˆì˜ ë²„ìŠ¤ ì˜ˆì•½ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ RESTful APIì…ë‹ˆë‹¤.
  version: 1.0.0
  contact:
    name: Bikini Transport Team

servers:
  - url: http://localhost:5173/api
    description: Development server (with MSW)
  - url: /api
    description: Relative path for production

tags:
  - name: stations
    description: ì—­(ì •ë¥˜ì¥) ê´€ë ¨ API
  - name: lines
    description: ë…¸ì„  ê´€ë ¨ API
  - name: itineraries
    description: ê²½ë¡œ ê²€ìƒ‰ ë° ì¶”ì²œ API
  - name: seats
    description: ì¢Œì„ ì¡°íšŒ API
  - name: coupons
    description: ì¿ í° ê´€ë ¨ API
  - name: bookings
    description: ì˜ˆì•½ ê´€ë ¨ API

paths:
  /stations:
    get:
      tags: [stations]
      summary: ì „ì²´ ì—­ ëª©ë¡ ì¡°íšŒ
      description: ë¹„í‚¤ë‹ˆì‹œí‹°ì˜ ëª¨ë“  ë²„ìŠ¤ ì •ë¥˜ì¥ ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
      operationId: getStations
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                required:
                  - stations
                properties:
                  stations:
                    type: array
                    items:
                      $ref: '#/components/schemas/Station'

  /lines:
    get:
      tags: [lines]
      summary: ì „ì²´ ë…¸ì„  ëª©ë¡ ì¡°íšŒ
      description: ì‹œí‹°ì„ , ì™¸ê³½ì„ , íˆ¬ì–´ì„  ë“± ëª¨ë“  ë…¸ì„  ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
      operationId: getLines
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                required:
                  - lines
                properties:
                  lines:
                    type: array
                    items:
                      $ref: '#/components/schemas/Line'

  /lines/{lineId}:
    get:
      tags: [lines]
      summary: íŠ¹ì • ë…¸ì„  ìƒì„¸ ì¡°íšŒ
      operationId: getLineById
      parameters:
        - name: lineId
          in: path
          required: true
          schema:
            type: string
          example: city-line
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Line'
        '404':
          description: ë…¸ì„ ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /itineraries/search:
    post:
      tags: [itineraries]
      summary: ê²½ë¡œ ê²€ìƒ‰
      description: |
        ì¶œë°œì§€, ë„ì°©ì§€, ì¶œë°œ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ìµœì ì˜ ê²½ë¡œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.
        ìµœë‹¨ì‹œê°„, ìµœì†Œí™˜ìŠ¹, ìµœì €ìš”ê¸ˆ ê¸°ì¤€ìœ¼ë¡œ ì¶”ì²œ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

        **í™˜ìŠ¹ í• ì¸ ì •ì±…:**
        - í™˜ìŠ¹ ì‹œ ê°ˆì•„íƒ€ëŠ” ë…¸ì„ ì˜ ìš”ê¸ˆì—ë§Œ í• ì¸ ì ìš©
        - 1íšŒ í™˜ìŠ¹: ë…¸ì„ ë³„ ì„¤ì •ëœ í• ì¸ìœ¨
        - 2íšŒ ì´ìƒ í™˜ìŠ¹: ë…¸ì„ ë³„ ì„¤ì •ëœ í• ì¸ìœ¨
      operationId: searchItineraries
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - fromStationId
                - toStationId
                - departureTime
              properties:
                fromStationId:
                  type: string
                  description: ì¶œë°œì—­ ID
                  example: bikini-city
                toStationId:
                  type: string
                  description: ë„ì°©ì—­ ID
                  example: bubble-city
                departureTime:
                  type: string
                  format: date-time
                  description: ì¶œë°œ ì‹œê°„ (ISO 8601)
                  example: '2025-01-15T09:00:00Z'
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                required:
                  - itineraries
                properties:
                  itineraries:
                    type: array
                    description: ì¶”ì²œ ê²½ë¡œ ëª©ë¡ (ìµœëŒ€ 3ê°œ)
                    items:
                      $ref: '#/components/schemas/Itinerary'
        '400':
          description: ì˜ëª»ëœ ìš”ì²­
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /legs/{legId}/seats:
    get:
      tags: [seats]
      summary: êµ¬ê°„ë³„ ì¢Œì„ ì¡°íšŒ
      description: íŠ¹ì • êµ¬ê°„ì˜ ì¢Œì„ ë°°ì¹˜ ë° ì˜ˆì•½ ìƒíƒœë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
      operationId: getSeatsByLeg
      parameters:
        - name: legId
          in: path
          required: true
          schema:
            type: string
          example: leg-city-line-1
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SeatLayout'
        '404':
          description: êµ¬ê°„ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /coupons/random-popup:
    get:
      tags: [coupons]
      summary: ëœë¤ ì¿ í° íŒì—… ì¡°íšŒ
      description: |
        í™•ë¥  ê¸°ë°˜ìœ¼ë¡œ ëœë¤ ì¿ í°ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        ì¿ í°ì´ ì¶œí˜„í•˜ì§€ ì•Šìœ¼ë©´ nullì„ ë°˜í™˜í•©ë‹ˆë‹¤.

        **ì¶œí˜„ ì¡°ê±´:**
        - ì•½ 10% í™•ë¥ ë¡œ ì¿ í° ì¶œí˜„
        - 1ì´ˆë§ˆë‹¤ ë¦¬íŒ¨ì¹˜ ê¶Œì¥
      operationId: getRandomCouponPopup
      responses:
        '200':
          description: ì„±ê³µ (ì¿ í°ì´ ìˆê±°ë‚˜ ì—†ìŒ)
          content:
            application/json:
              schema:
                type: object
                properties:
                  coupon:
                    allOf:
                      - $ref: '#/components/schemas/Coupon'
                      - nullable: true
                example:
                  coupon:
                    couponCode: PEARL_PASS
                    name: ì§„ì£¼íŒ¨ìŠ¤
                    description: ëª¨ë“  ë…¸ì„  ê¸°ë³¸ìš”ê¸ˆ 0.5â‚´ í• ì¸
                    emoji: ğŸ¦ª
                    discountType: FIXED_BASE_FARE
                    discountValue: 0.5
                    maxOwnedCount: 3
                    currentOwnedCount: 1

  /coupons/claim:
    post:
      tags: [coupons]
      summary: ì¿ í° ë°›ê¸°
      description: |
        ëœë¤ ì¿ í°ì„ íšë“í•©ë‹ˆë‹¤.
        ìµœëŒ€ ì†Œì§€ ê°œìˆ˜ë¥¼ ì´ˆê³¼í•˜ë©´ ì—ëŸ¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
      operationId: claimCoupon
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - couponCode
              properties:
                couponCode:
                  type: string
                  enum:
                    - PEARL_PASS
                    - GARY_NIGHT
                    - TOUR_FUN
                  example: PEARL_PASS
      responses:
        '200':
          description: ì¿ í° ë°›ê¸° ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                  - coupon
                properties:
                  success:
                    type: boolean
                    example: true
                  coupon:
                    $ref: '#/components/schemas/Coupon'
        '400':
          description: ìµœëŒ€ ì†Œì§€ ê°œìˆ˜ ì´ˆê³¼ ë˜ëŠ” ì˜ëª»ëœ ìš”ì²­
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                error: MAX_COUPON_EXCEEDED
                message: ì´ë¯¸ ìµœëŒ€ ê°œìˆ˜ë¥¼ ë³´ìœ  ì¤‘ì…ë‹ˆë‹¤

  /coupons/my:
    get:
      tags: [coupons]
      summary: ë‚´ ë³´ìœ  ì¿ í° ëª©ë¡ ì¡°íšŒ
      description: í˜„ì¬ ì‚¬ìš©ìê°€ ë³´ìœ í•œ ëª¨ë“  ì¿ í° ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
      operationId: getMyCoupons
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                required:
                  - coupons
                properties:
                  coupons:
                    type: array
                    items:
                      $ref: '#/components/schemas/Coupon'

  /bookings:
    post:
      tags: [bookings]
      summary: ì˜ˆì•½ ìƒì„±
      description: |
        ê²½ë¡œ, ì¢Œì„, ì¿ í° ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì˜ˆì•½ì„ ìƒì„±í•©ë‹ˆë‹¤.

        **í• ì¸ ê³„ì‚° ìˆœì„œ:**
        1. í™˜ìŠ¹ í• ì¸ ì ìš© (ê°ˆì•„íƒ€ëŠ” ë…¸ì„ ì—ë§Œ)
        2. ì¿ í° í• ì¸ ì ìš© (í™˜ìŠ¹ í• ì¸ í›„ ê¸ˆì•¡ì—)

        **ì£¼ì˜ì‚¬í•­:**
        - ì¼ë¶€ ì¿ í°ì€ í™˜ìŠ¹ í• ì¸ì„ ë¬´íš¨í™”í•  ìˆ˜ ìˆìŒ
        - ì¢Œì„ì´ ì´ë¯¸ ì˜ˆì•½ëœ ê²½ìš° ì—ëŸ¬ ë°˜í™˜
      operationId: createBooking
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - itineraryId
                - seatSelections
                - departureTime
              properties:
                itineraryId:
                  type: string
                  description: ì„ íƒí•œ ê²½ë¡œ ID
                  example: itinerary-1
                seatSelections:
                  type: array
                  description: êµ¬ê°„ë³„ ì„ íƒí•œ ì¢Œì„
                  items:
                    type: object
                    required:
                      - legId
                      - seatNumber
                    properties:
                      legId:
                        type: string
                        example: leg-city-line-1
                      seatNumber:
                        type: string
                        example: A1
                couponCode:
                  type: string
                  enum:
                    - PEARL_PASS
                    - GARY_NIGHT
                    - TOUR_FUN
                  nullable: true
                  description: ì ìš©í•  ì¿ í° ì½”ë“œ (ì„ íƒ)
                  example: PEARL_PASS
                departureTime:
                  type: string
                  format: date-time
                  description: ì¶œë°œ ì‹œê°„ (ISO 8601)
                  example: '2025-01-15T09:00:00Z'
      responses:
        '201':
          description: ì˜ˆì•½ ìƒì„± ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booking'
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ (ì¢Œì„ ì¤‘ë³µ, ì¿ í° ì˜¤ë¥˜ ë“±)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    get:
      tags: [bookings]
      summary: ë‚´ ì˜ˆì•½ ëª©ë¡ ì¡°íšŒ
      description: |
        í˜„ì¬ ì‚¬ìš©ìì˜ ëª¨ë“  ì˜ˆì•½ ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

        **ì •ë ¬ ì˜µì…˜:**
        - date_desc: ì¶œë°œ ë‚ ì§œ ë‚´ë¦¼ì°¨ìˆœ (ê¸°ë³¸)
        - date_asc: ì¶œë°œ ë‚ ì§œ ì˜¤ë¦„ì°¨ìˆœ
        - price_desc: ê¸ˆì•¡ ë†’ì€ ìˆœ
        - price_asc: ê¸ˆì•¡ ë‚®ì€ ìˆœ
      operationId: getMyBookings
      parameters:
        - name: sort
          in: query
          schema:
            type: string
            enum:
              - date_desc
              - date_asc
              - price_desc
              - price_asc
            default: date_desc
        - name: status
          in: query
          schema:
            type: string
            enum:
              - CONFIRMED
              - CANCELLED
          description: ì˜ˆì•½ ìƒíƒœ í•„í„°
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                required:
                  - bookings
                properties:
                  bookings:
                    type: array
                    items:
                      $ref: '#/components/schemas/Booking'

  /bookings/{bookingId}:
    get:
      tags: [bookings]
      summary: ì˜ˆì•½ ìƒì„¸ ì¡°íšŒ
      operationId: getBookingById
      parameters:
        - name: bookingId
          in: path
          required: true
          schema:
            type: string
          example: booking-123
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booking'
        '404':
          description: ì˜ˆì•½ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

components:
  schemas:
    Station:
      type: object
      required:
        - stationId
        - name
        - location
      properties:
        stationId:
          type: string
          description: ì—­ ê³ ìœ  ID
          example: bikini-city
        name:
          type: string
          description: ì—­ ì´ë¦„
          example: ë¹„í‚¤ë‹ˆì‹œí‹°
        location:
          type: array
          description: ìœ„ì¹˜ ì¢Œí‘œ [ìœ„ë„, ê²½ë„]
          items:
            type: number
          minItems: 2
          maxItems: 2
          example: [37.5665, 126.9780]

    Line:
      type: object
      required:
        - lineId
        - name
        - type
        - color
        - stationIds
        - baseFare
        - extraFarePer3Stops
        - transferDiscount1st
        - transferDiscount2nd
      properties:
        lineId:
          type: string
          description: ë…¸ì„  ê³ ìœ  ID
          example: city-line
        name:
          type: string
          description: ë…¸ì„  ì´ë¦„
          example: ì‹œí‹°ì„ 
        type:
          type: string
          enum:
            - CITY
            - SUBURBAN
            - TOUR
          description: ë…¸ì„  íƒ€ì…
          example: CITY
        color:
          type: string
          description: ë…¸ì„  ìƒ‰ìƒ (Hex)
          example: '#FFC107'
        stationIds:
          type: array
          description: ë…¸ì„ ì´ ê²½ìœ í•˜ëŠ” ì—­ ID ëª©ë¡ (ìˆœì„œëŒ€ë¡œ)
          items:
            type: string
          example:
            - new-kelp-city
            - glove-world
            - jellyfish-fields
            - bikini-city
        baseFare:
          type: number
          description: ê¸°ë³¸ ìš”ê¸ˆ (â‚´)
          example: 5.0
        extraFarePer3Stops:
          type: number
          description: 3ì •ê±°ì¥ë‹¹ ì¶”ê°€ ìš”ê¸ˆ (â‚´)
          example: 1.0
        transferDiscount1st:
          type: number
          description: 1íšŒ í™˜ìŠ¹ í• ì¸ìœ¨ (0-1)
          example: 0.2
        transferDiscount2nd:
          type: number
          description: 2íšŒ ì´ìƒ í™˜ìŠ¹ í• ì¸ìœ¨ (0-1)
          example: 0.15

    Leg:
      type: object
      required:
        - legId
        - lineId
        - lineName
        - lineColor
        - fromStation
        - toStation
        - fromStationIndex
        - toStationIndex
        - durationMinutes
        - stopsCount
        - baseFare
        - extraFare
        - fareBeforeDiscount
        - transferDiscount
        - finalFare
      properties:
        legId:
          type: string
          description: êµ¬ê°„ ê³ ìœ  ID
          example: leg-city-line-1
        lineId:
          type: string
          description: ì´ êµ¬ê°„ì´ ì†í•œ ë…¸ì„  ID
          example: city-line
        lineName:
          type: string
          description: ë…¸ì„  ì´ë¦„
          example: ì‹œí‹°ì„ 
        lineColor:
          type: string
          description: ë…¸ì„  ìƒ‰ìƒ
          example: '#FFC107'
        fromStation:
          $ref: '#/components/schemas/Station'
        toStation:
          $ref: '#/components/schemas/Station'
        fromStationIndex:
          type: integer
          description: ë…¸ì„  ë‚´ ì¶œë°œì—­ ì¸ë±ìŠ¤
          example: 0
        toStationIndex:
          type: integer
          description: ë…¸ì„  ë‚´ ë„ì°©ì—­ ì¸ë±ìŠ¤
          example: 3
        durationMinutes:
          type: integer
          description: ì†Œìš” ì‹œê°„ (ë¶„)
          example: 25
        waitTimeMinutes:
          type: integer
          description: ì´ êµ¬ê°„ íƒ‘ìŠ¹ ì „ ëŒ€ê¸° ì‹œê°„ (ë¶„) - í™˜ìŠ¹ ì‹œì—ë§Œ ê°’ ì¡´ì¬
          example: 0
        stopsCount:
          type: integer
          description: ì •ê±°ì¥ ìˆ˜ (ì¶œë°œì—­ í¬í•¨)
          example: 4
        baseFare:
          type: number
          description: ê¸°ë³¸ ìš”ê¸ˆ
          example: 5.0
        extraFare:
          type: number
          description: ì¶”ê°€ ìš”ê¸ˆ (ê±°ë¦¬ ê¸°ë°˜)
          example: 1.0
        fareBeforeDiscount:
          type: number
          description: í• ì¸ ì „ ìš”ê¸ˆ (ê¸°ë³¸ + ì¶”ê°€)
          example: 6.0
        transferDiscount:
          type: number
          description: ì ìš©ëœ í™˜ìŠ¹ í• ì¸ ê¸ˆì•¡
          example: 1.2
        finalFare:
          type: number
          description: ìµœì¢… ìš”ê¸ˆ (í™˜ìŠ¹ í• ì¸ ì ìš© í›„)
          example: 4.8

    Itinerary:
      type: object
      required:
        - itineraryId
        - recommendationTypes
        - totalDurationMinutes
        - transferCount
        - legs
        - pricing
      properties:
        itineraryId:
          type: string
          description: ê²½ë¡œ ê³ ìœ  ID
          example: itinerary-1
        recommendationTypes:
          type: array
          description: ì¶”ì²œ íƒ€ì… (í•˜ë‚˜ì˜ ê²½ë¡œê°€ ì—¬ëŸ¬ íƒ€ì…ì¼ ìˆ˜ ìˆìŒ)
          items:
            type: string
            enum:
              - SHORTEST_TIME
              - MIN_TRANSFER
              - LOWEST_FARE
          example:
            - SHORTEST_TIME
            - MIN_TRANSFER
        totalDurationMinutes:
          type: integer
          description: ì´ ì†Œìš” ì‹œê°„ (ë¶„)
          example: 45
        transferCount:
          type: integer
          description: í™˜ìŠ¹ íšŸìˆ˜
          example: 1
        legs:
          type: array
          description: êµ¬ê°„ ëª©ë¡
          items:
            $ref: '#/components/schemas/Leg'
        pricing:
          type: object
          required:
            - subtotal
            - transferDiscount
            - totalBeforeCoupon
          properties:
            subtotal:
              type: number
              description: í™˜ìŠ¹ í• ì¸ ì „ ì´ ìš”ê¸ˆ
              example: 12.0
            transferDiscount:
              type: number
              description: í™˜ìŠ¹ í• ì¸ ì´ì•¡
              example: 2.4
            totalBeforeCoupon:
              type: number
              description: ì¿ í° ì ìš© ì „ ê¸ˆì•¡ (í™˜ìŠ¹ í• ì¸ í›„)
              example: 9.6

    Seat:
      type: object
      required:
        - seatNumber
        - row
        - column
        - position
        - isAvailable
        - isReserved
      properties:
        seatNumber:
          type: string
          description: ì¢Œì„ ë²ˆí˜¸
          example: A1
        row:
          type: integer
          description: í–‰ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘)
          example: 0
        column:
          type: integer
          description: ì—´ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘)
          example: 0
        position:
          type: string
          enum:
            - WINDOW
            - AISLE
          description: ì¢Œì„ ìœ„ì¹˜
          example: WINDOW
        isAvailable:
          type: boolean
          description: ì„ íƒ ê°€ëŠ¥ ì—¬ë¶€
          example: true
        isReserved:
          type: boolean
          description: ì˜ˆì•½ëœ ì¢Œì„ ì—¬ë¶€
          example: false

    SeatLayout:
      type: object
      required:
        - legId
        - rows
        - columns
        - driverPosition
        - seats
      properties:
        legId:
          type: string
          description: êµ¬ê°„ ID
          example: leg-city-line-1
        rows:
          type: integer
          description: ì´ í–‰ ìˆ˜
          example: 10
        columns:
          type: integer
          description: ì´ ì—´ ìˆ˜
          example: 4
        driverPosition:
          type: string
          enum:
            - LEFT
            - RIGHT
          description: ìš´ì „ì„ ìœ„ì¹˜
          example: LEFT
        seats:
          type: array
          description: ì „ì²´ ì¢Œì„ ëª©ë¡
          items:
            $ref: '#/components/schemas/Seat'

    Coupon:
      type: object
      required:
        - couponCode
        - name
        - description
        - emoji
        - discountType
        - discountValue
        - maxOwnedCount
        - currentOwnedCount
      properties:
        couponCode:
          type: string
          enum:
            - PEARL_PASS
            - GARY_NIGHT
            - TOUR_FUN
          description: ì¿ í° ì½”ë“œ
          example: PEARL_PASS
        name:
          type: string
          description: ì¿ í° ì´ë¦„
          example: ì§„ì£¼íŒ¨ìŠ¤
        description:
          type: string
          description: ì¿ í° ì„¤ëª…
          example: ëª¨ë“  ë…¸ì„  ê¸°ë³¸ìš”ê¸ˆ 0.5â‚´ í• ì¸
        emoji:
          type: string
          description: ì¿ í° ì´ëª¨ì§€
          example: ğŸ¦ª
        discountType:
          type: string
          enum:
            - FIXED_BASE_FARE
            - PERCENTAGE_TOTAL
            - PERCENTAGE_LINE
          description: |
            í• ì¸ íƒ€ì…
            - FIXED_BASE_FARE: ê¸°ë³¸ìš”ê¸ˆ ê³ ì • í• ì¸
            - PERCENTAGE_TOTAL: ì „ì²´ ìš”ê¸ˆ ë¹„ìœ¨ í• ì¸
            - PERCENTAGE_LINE: íŠ¹ì • ë…¸ì„  ë¹„ìœ¨ í• ì¸
          example: FIXED_BASE_FARE
        discountValue:
          type: number
          description: í• ì¸ ê°’ (ê³ ì • ê¸ˆì•¡ ë˜ëŠ” ë¹„ìœ¨)
          example: 0.5
        maxOwnedCount:
          type: integer
          description: ìµœëŒ€ ì†Œì§€ ê°€ëŠ¥ ê°œìˆ˜
          example: 3
        currentOwnedCount:
          type: integer
          description: í˜„ì¬ ì†Œì§€ ê°œìˆ˜
          example: 1
        applicableLineTypes:
          type: array
          description: ì ìš© ê°€ëŠ¥í•œ ë…¸ì„  íƒ€ì… (ì—†ìœ¼ë©´ ì „ì²´)
          items:
            type: string
            enum:
              - CITY
              - SUBURBAN
              - TOUR
          nullable: true
          example: [TOUR]
        timeCondition:
          type: object
          description: ì‹œê°„ ì¡°ê±´ (ì—†ìœ¼ë©´ ì œí•œ ì—†ìŒ)
          nullable: true
          properties:
            afterHour:
              type: integer
              description: ì´ ì‹œê°„ ì´í›„ë¶€í„° ì ìš© (24ì‹œê°„ ê¸°ì¤€)
              example: 21
        invalidatesTransferDiscount:
          type: boolean
          description: 2íšŒ ì´ìƒ í™˜ìŠ¹ í• ì¸ ë¬´íš¨í™” ì—¬ë¶€
          example: false

    Booking:
      type: object
      required:
        - bookingId
        - bookingNumber
        - itinerary
        - seatSelections
        - departureTime
        - pricing
        - status
        - createdAt
      properties:
        bookingId:
          type: string
          description: ì˜ˆì•½ ê³ ìœ  ID
          example: booking-123
        bookingNumber:
          type: string
          description: ì˜ˆì•½ ë²ˆí˜¸ (ì‚¬ìš©ììš©)
          example: BKN-20250115-1234
        itinerary:
          $ref: '#/components/schemas/Itinerary'
        seatSelections:
          type: array
          description: êµ¬ê°„ë³„ ì„ íƒí•œ ì¢Œì„
          items:
            type: object
            required:
              - legId
              - legIndex
              - seatNumber
            properties:
              legId:
                type: string
                example: leg-city-line-1
              legIndex:
                type: integer
                description: êµ¬ê°„ ìˆœì„œ (0ë¶€í„° ì‹œì‘)
                example: 0
              seatNumber:
                type: string
                example: A1
        appliedCoupon:
          allOf:
            - $ref: '#/components/schemas/Coupon'
            - nullable: true
          description: ì ìš©ëœ ì¿ í° (ì—†ìœ¼ë©´ null)
        departureTime:
          type: string
          format: date-time
          description: ì¶œë°œ ì‹œê°„ (ISO 8601)
          example: '2025-01-15T09:00:00Z'
        pricing:
          type: object
          required:
            - subtotal
            - transferDiscount
            - subtotalAfterTransfer
            - couponDiscount
            - finalTotal
            - currency
          properties:
            subtotal:
              type: number
              description: ì›ê°€ (í™˜ìŠ¹ í• ì¸ ì „)
              example: 12.0
            transferDiscount:
              type: number
              description: í™˜ìŠ¹ í• ì¸ ê¸ˆì•¡
              example: 2.4
            subtotalAfterTransfer:
              type: number
              description: í™˜ìŠ¹ í• ì¸ í›„ ê¸ˆì•¡
              example: 9.6
            couponDiscount:
              type: number
              description: ì¿ í° í• ì¸ ê¸ˆì•¡
              example: 1.0
            finalTotal:
              type: number
              description: ìµœì¢… ê²°ì œ ê¸ˆì•¡
              example: 8.6
            currency:
              type: string
              enum:
                - SHELL
              description: í™”í ë‹¨ìœ„
              example: SHELL
        status:
          type: string
          enum:
            - CONFIRMED
            - CANCELLED
          description: ì˜ˆì•½ ìƒíƒœ
          example: CONFIRMED
        createdAt:
          type: string
          format: date-time
          description: ì˜ˆì•½ ìƒì„± ì‹œê°„
          example: '2025-01-15T08:30:00Z'

    Error:
      type: object
      required:
        - error
        - message
      properties:
        error:
          type: string
          description: ì—ëŸ¬ ì½”ë“œ
          example: SEAT_ALREADY_RESERVED
        message:
          type: string
          description: ì—ëŸ¬ ë©”ì‹œì§€
          example: ì´ë¯¸ ì˜ˆì•½ëœ ì¢Œì„ì…ë‹ˆë‹¤
        details:
          type: object
          description: ì¶”ê°€ ì—ëŸ¬ ì •ë³´
          additionalProperties: true
          nullable: true
