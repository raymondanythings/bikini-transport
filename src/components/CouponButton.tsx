import { ark } from '@ark-ui/react';
import { forwardRef } from 'react';
import { css } from 'styled-system/css';
import { HStack } from 'styled-system/jsx';
import { Typography } from '@/ui-lib/components/Typography';

interface CouponButtonProps {
  onClick?: () => void;
}

export const CouponButton = forwardRef<HTMLButtonElement, CouponButtonProps>(({ onClick, ...props }, ref) => {
  return (
    <ark.button
      ref={ref}
      onClick={onClick}
      className={css({
        w: 'full',
        p: 4,
        backgroundColor: 'background.normal',
        borderRadius: 'xl',
        border: 'none',
        cursor: 'pointer',
        transition: 'all 0.2s',
        boxShadow: '0 4px 10px rgba(0, 0, 0, 0.12)',
        _active: {
          transform: 'scale(0.98)',
        },
        _hover: {
          transform: 'scale(0.99)',
        },
      })}
      {...props}
    >
      <HStack gap={4} alignItems='center'>
        <CouponIcon />
        <Typography variant='C1_Bold' color='static.bold' flex={1} textAlign='left'>
          랜덤 쿠폰이 발행되었어요!
        </Typography>
        <RightArrowIcon />
      </HStack>
    </ark.button>
  );
});

CouponButton.displayName = 'CouponButton';

const CouponIcon = () => (
  <svg width='50' height='50' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'>
    <rect width='50' height='50' rx='4' fill='#E7F3FE' />
    <path
      d='M40.6372 20.3418C40.4802 20.3451 40.3213 20.367 40.1644 20.4134C39.1635 20.7096 38.6063 21.8081 38.9195 22.8672C39.2327 23.9263 40.2977 24.545 41.2988 24.2492C41.4558 24.2028 41.6006 24.1339 41.7341 24.0512L44.3053 32.7454L8.95536 43.1994L6.38423 34.5052C6.54091 34.5018 6.69966 34.4812 6.85631 34.4348C7.85718 34.1386 8.41428 33.0401 8.10121 31.9811C7.78801 30.922 6.72303 30.3033 5.72196 30.5991C5.56544 30.6453 5.42019 30.7126 5.28699 30.7949L3 23.0615L38.3499 12.6075L40.6372 20.3418Z'
      fill='#2087D6'
    />
    <path
      d='M42.7034 20.2083C42.5495 20.188 42.3912 20.1856 42.2311 20.2078C41.2089 20.3498 40.5029 21.3519 40.6548 22.4459C40.8067 23.5399 41.759 24.3117 42.7812 24.1698C42.9414 24.1476 43.093 24.1022 43.2355 24.0407L44.4823 33.02L8.38723 38.0319L7.14043 29.0526C7.29427 29.0729 7.45265 29.0753 7.61275 29.0531C8.63483 28.9109 9.33999 27.9091 9.1881 26.8151C9.03606 25.7214 8.08465 24.9494 7.06262 25.0911C6.90258 25.1133 6.75073 25.1588 6.60829 25.2202L5.49902 17.2314L41.5941 12.2195L42.7034 20.2083Z'
      fill='#469FE3'
    />
    <path
      d='M44.5 20.0674C44.34 20.0262 44.1729 20.002 44 20.002C42.8954 20.002 42 20.8974 42 22.002C42 23.1065 42.8954 24.002 44 24.002C44.1729 24.002 44.3399 23.9768 44.5 23.9355V33.002H5.5V23.9355C5.66006 23.9768 5.82705 24.002 6 24.002C7.10457 24.002 8 23.1065 8 22.002C8 20.8974 7.10457 20.002 6 20.002C5.82714 20.002 5.65999 20.0262 5.5 20.0674V12.002H44.5V20.0674Z'
      fill='url(#paint0_linear_556_10558)'
    />
    <path
      d='M14.1496 21.8412C14.0692 21.3055 13.654 20.9774 13.0915 20.9774C12.3348 20.9774 11.8393 21.56 11.8393 22.5778C11.8393 23.6225 12.3415 24.1783 13.0848 24.1783C13.6406 24.1783 14.0491 23.8703 14.1496 23.3479L15.1674 23.3546C15.0536 24.252 14.3036 25.0689 13.0714 25.0689C11.7723 25.0689 10.8147 24.1582 10.8147 22.5778C10.8147 20.9975 11.7924 20.0868 13.0714 20.0868C14.1897 20.0868 15.0335 20.7296 15.1674 21.8412H14.1496ZM20.1388 22.5778C20.1388 24.1582 19.1545 25.0689 17.8754 25.0689C16.583 25.0689 15.6054 24.1515 15.6054 22.5778C15.6054 20.9975 16.583 20.0868 17.8754 20.0868C19.1545 20.0868 20.1388 20.9975 20.1388 22.5778ZM19.1143 22.5778C19.1143 21.5399 18.6254 20.9774 17.8754 20.9774C17.1254 20.9774 16.6299 21.5399 16.6299 22.5778C16.6299 23.6158 17.1254 24.1783 17.8754 24.1783C18.6254 24.1783 19.1143 23.6158 19.1143 22.5778ZM23.6906 20.1537H24.7018V23.3011C24.7018 24.3658 23.8982 25.0689 22.6929 25.0689C21.4875 25.0689 20.6906 24.3658 20.6906 23.3011V20.1537H21.6951V23.2207C21.6951 23.7765 22.0902 24.185 22.6929 24.185C23.3022 24.185 23.6906 23.7765 23.6906 23.2207V20.1537ZM25.3473 25.002V20.1537H27.2491C28.354 20.1537 28.9835 20.8301 28.9835 21.7877C28.9835 22.7586 28.3406 23.4216 27.2223 23.4216H26.3518V25.002H25.3473ZM26.3518 22.6113H27.0616C27.6576 22.6113 27.9455 22.2765 27.9455 21.7877C27.9455 21.3055 27.6576 20.9774 27.0616 20.9774H26.3518V22.6113ZM33.8879 22.5778C33.8879 24.1582 32.9036 25.0689 31.6246 25.0689C30.3321 25.0689 29.3545 24.1515 29.3545 22.5778C29.3545 20.9975 30.3321 20.0868 31.6246 20.0868C32.9036 20.0868 33.8879 20.9975 33.8879 22.5778ZM32.8634 22.5778C32.8634 21.5399 32.3746 20.9774 31.6246 20.9774C30.8746 20.9774 30.379 21.5399 30.379 22.5778C30.379 23.6158 30.8746 24.1783 31.6246 24.1783C32.3746 24.1783 32.8634 23.6158 32.8634 22.5778ZM38.4844 20.1537V25.002H37.6138L35.4844 21.9216H35.4442V25.002H34.4397V20.1537H35.3237L37.4397 23.2341H37.4866V20.1537H38.4844Z'
      fill='white'
    />
    <defs>
      <linearGradient id='paint0_linear_556_10558' x1='5.5' y1='22.502' x2='44.5' y2='22.502' gradientUnits='userSpaceOnUse'>
        <stop stop-color='#7FC2F5' />
        <stop offset='1' stop-color='#38A8FF' />
      </linearGradient>
    </defs>
  </svg>
);

const RightArrowIcon = () => (
  <svg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>
    <path
      d='M7.99976 20.0005L15.9998 12.0005L7.99976 4.00049'
      stroke='#CDD2D8'
      stroke-width='3'
      stroke-linecap='round'
      stroke-linejoin='round'
    />
  </svg>
);
