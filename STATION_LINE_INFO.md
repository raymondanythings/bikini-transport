# 비키니 시티 대중교통 노선 정보

## 🚉 역(정류장) 목록

| 역 ID               | 한글명        | 영문명             | 노선                                |
| ------------------- | ------------- | ------------------ | ----------------------------------- |
| `new-kelp-city`     | 뉴 켈프 시티  | New Kelp City      | 시티선                              |
| `glove-world`       | 글러브월드    | Glove World        | 시티선, 투어선                      |
| `bikini-city`       | 비키니 시티   | Bikini Bottom      | **시티선, 외곽선, 투어선 (환승역)** |
| `floaters-cemetery` | 플로터스 묘지 | Floater's Cemetery | 시티선                              |
| `bubble-town`       | 버블타운      | Bubble Town        | 시티선, 외곽선                      |
| `tentacle-acres`    | 징징빌라      | Tentacle Acres     | 외곽선                              |
| `bikini-atoll`      | 비키니 환초   | Bikini Atoll       | 외곽선                              |
| `jellyfish-fields`  | 해파리 초원   | Jellyfish Fields   | 투어선                              |
| `goo-lagoon`        | 구-라군       | Goo Lagoon         | 투어선                              |
| `kelp-forest`       | 켈프 숲       | Kelp Forest        | 투어선                              |

## 🚌 노선 정보

### 1️⃣ 시티선 (City Line)

**테마:** 도심 순환
**노선 색상:** `#faab9e` (연한 주황색)

**정차 순서:**

```
뉴 켈프 시티 → 글러브월드 → 플로터스 묘지 → 비키니 시티 → 버블타운
```

**요금 정보:**

- 기본 요금: **10₴**
- 정거장당 추가 요금: **2₴**
- 1회 환승 할인: **10%**
- 2회 이상 환승 할인: **20%**

**운행 정보:**

- 첫차: **06:30**
- 막차: **23:30**
- 배차 간격: **15분**

**예시 요금 계산:**

- 뉴 켈프 시티 → 비키니 시티 (3정거장): 10₴ + (3 × 2₴) = **16₴**

---

### 2️⃣ 외곽선 (Suburban Line)

**테마:** 주거 지역 연결
**노선 색상:** `#b7dcca` (연한 청록색)

**정차 순서:**

```
버블타운 → 징징빌라 → 비키니 시티 → 비키니 환초
```

**요금 정보:**

- 기본 요금: **25₴**
- 정거장당 추가 요금: **8₴**
- 1회 환승 할인: **15%**
- 2회 이상 환승 할인: **25%**

**운행 정보:**

- 첫차: **05:00**
- 막차: **21:30**
- 배차 간격: **90분 (1시간 30분)**

**예시 요금 계산:**

- 버블타운 → 비키니 환초 (3정거장): 25₴ + (3 × 8₴) = **49₴**

---

### 3️⃣ 투어선 (Tour Line)

**테마:** 관광 특화
**노선 색상:** `#ff534f` (빨간색)

**정차 순서:**

```
글러브월드 → 비키니 시티 → 해파리 초원 → 구-라군 → 켈프 숲
```

**요금 정보:**

- 기본 요금: **15₴**
- 정거장당 추가 요금: **5₴**
- 1회 환승 할인: **15%**
- 2회 이상 환승 할인: **20%**

**운행 정보:**

- 첫차: **06:00**
- 막차: **22:00**
- 배차 간격: **60분 (1시간)**

**예시 요금 계산:**

- 글러브월드 → 켈프 숲 (4정거장): 15₴ + (4 × 5₴) = **35₴**

---

## 🔄 환승 안내

### 환승역: 비키니 시티 (Bikini Bottom)

시티선, 외곽선, 투어선이 모두 교차하는 중심 환승역입니다.

### 환승 할인 정책

1. **1회 환승 (두 번째 노선):**

   - 시티선: 10% 할인
   - 외곽선: 15% 할인
   - 투어선: 15% 할인

2. **2회 이상 환승 (세 번째 노선부터):**
   - 시티선: 20% 할인
   - 외곽선: 25% 할인
   - 투어선: 20% 할인

**주의사항:**

- 같은 노선을 계속 타면 환승으로 계산되지 않습니다
- 환승 할인은 갈아타는 노선의 요금에만 적용됩니다

### 환승 대기 시간

환승 시 다음 버스를 기다려야 하는 시간은 실제 배차 시간표를 기반으로 계산됩니다.

**계산 방식:**

1. 이전 구간의 도착 시각 계산
2. 다음 노선의 첫차/막차 시간 확인
3. 배차 간격을 고려하여 환승역에 도착하는 다음 버스 시간 계산
4. 도착 시각과 다음 버스 시간의 차이가 대기 시간

**실제 예시:**

```
경로: 비키니시티 → 비키니환초 (시티선 → 외곽선 환승)
출발: 06:30 비키니시티

1단계: 시티선 탑승
- 06:30 비키니시티 출발
- 플로터스묘지 25분 → 버블타운 20분
- 07:15 버블타운 도착

2단계: 외곽선 대기
- 외곽선 첫차: 05:00 비키니시티 출발 (배차간격 90분)
- 비키니시티 → 메롱시티 90분 → 버블타운 75분
- 첫차 버블타운 도착: 07:45
- 대기 시간: 07:45 - 07:15 = 30분

3단계: 외곽선 탑승
- 07:45 버블타운 출발 → 비키니환초
```

**배차 간격별 대기 시간:**

- **시티선 (15분 간격)**: 최대 대기 15분
- **투어선 (60분 간격)**: 최대 대기 60분
- **외곽선 (90분 간격)**: 최대 대기 90분

**막차 이후:**

막차 시간 이후에 환승역에 도착하는 경우, 해당 경로는 검색 결과에서 제외됩니다.

### 환승 요금 예시

**경로:** 뉴 켈프 시티 → 비키니 환초

```
1. 시티선: 뉴 켈프 시티 → 비키니 시티 (3정거장)
   요금: 10₴ + (3 × 2₴) = 16₴
   이동 시간: 55분

2. 환승 대기
   대기 시간: 실제 배차 시간표 기반 (최대 90분)

3. 외곽선: 비키니 시티 → 비키니 환초 (2정거장)
   기본 요금: 25₴ + (2 × 8₴) = 41₴
   1회 환승 할인 (15%): 41₴ × 0.15 = 6.15₴
   최종 요금: 41₴ - 6.15₴ = 34.85₴
   이동 시간: 185분

총 요금: 16₴ + 34.85₴ = 50.85₴
총 소요 시간: 이동 시간 + 대기 시간
```

---

## ⏰ 운행 시간표 요약

| 노선   | 첫차  | 막차  | 배차 간격 |
| ------ | ----- | ----- | --------- |
| 시티선 | 06:30 | 23:30 | 15분      |
| 외곽선 | 05:00 | 21:30 | 90분      |
| 투어선 | 06:00 | 22:00 | 60분      |

**참고:**

- 시티선은 가장 빈번하게 운행됩니다 (15분 간격)
- 외곽선은 배차 간격이 길므로 시간표 확인이 필요합니다
- 투어선은 관광 특화로 1시간 간격 운행입니다

---

## 🎫 쿠폰 정보

### 1. 진주패스 (Pearl Pass) 🦪

- **할인:** 모든 노선 기본요금 2₴ 할인
- **조건:** 없음
- **최대 소지:** 3개

### 2. 달팽이패스 (Gary Night Pass) 🐌

- **할인:** 21시 이후 전체 요금 40% 할인
- **조건:** 21시 이후 출발
- **최대 소지:** 2개

### 3. 투어패스 (Tour Fun Pass) 🎢

- **할인:** 투어선 전용 30% 할인
- **조건:** 투어선 이용 시
- **최대 소지:** 5개

---

## 📊 경로 추천 기준

경로 검색 시 다음 3가지 기준으로 최적 경로를 추천합니다:

1. **최단 시간 (SHORTEST_TIME):** 총 소요 시간이 가장 짧은 경로
2. **최소 환승 (MIN_TRANSFER):** 환승 횟수가 가장 적은 경로
3. **최저 요금 (LOWEST_FARE):** 총 요금이 가장 저렴한 경로

하나의 경로가 여러 기준을 동시에 만족할 수 있습니다.
